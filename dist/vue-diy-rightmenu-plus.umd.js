(function(n,a){typeof exports=="object"&&typeof module<"u"?module.exports=a(require("vue")):typeof define=="function"&&define.amd?define(["vue"],a):(n=typeof globalThis<"u"?globalThis:n||self,n.vueDiyRightmenuPlus=a(n.Vue))})(this,function(n){"use strict";const a="",h=["onContextmenu"],C={key:0,class:"menu-list"},_=["onClick"],E={class:"item-title"},w=["onClick"],x=[{__name:"index",props:{groupList:{type:Array,default:()=>[]},list:{type:Array,default:()=>[{label:"\u7F16\u8F91",value:"\u7F16\u8F91value",icon:{icon:"\u221A"}},{label:"\u5220\u9664",value:"\u5220\u9664value"}]},props:{type:Object,default:()=>({})},hideOnClick:{type:Boolean,default:!0}},emits:["menuClick","popShow","popClose"],setup(l,{emit:i}){const r=l,s=n.ref(!1),f=n.ref({left:"9999px",top:"9999px"}),e=n.ref({name:r.props.name||"name",data:r.props.data||"data",label:r.props.label||"label",value:r.props.value||"value",icon:r.props.icon||"icon"}),y=(c,g)=>{let p=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector;for(;c&&!p.call(c,g);)c=c.parentElement;return c},P=()=>{y(event.target,".menu-content")===null&&(f.value.left=event.clientX+"px",f.value.top=event.clientY+"px",s.value=!0,i("popShow"))},m=()=>{(r.hideOnClick||y(event.target,".menu-content")===null)&&(s.value=!1,i("popClose"))};n.watch(s,()=>{s.value?document.body.addEventListener("click",m):document.body.removeEventListener("click",m)}),n.onBeforeUnmount(()=>{document.body.removeEventListener("click",m)});const B=c=>{i("menuClick",c)};return(c,g)=>{const p=n.resolveComponent("el-icon");return n.openBlock(),n.createElementBlock("div",{class:"vue-diy-rightmenu-plus",onContextmenu:n.withModifiers(P,["prevent"])},[n.renderSlot(c.$slots,"default"),n.unref(s)?(n.openBlock(),n.createElementBlock("div",{key:0,class:"menu-content",style:n.normalizeStyle(n.unref(f))},[l.list.length>0?(n.openBlock(),n.createElementBlock("div",C,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(l.list,(o,k)=>(n.openBlock(),n.createElementBlock("div",{class:"item",onClick:t=>B(o[n.unref(e).value]),key:k},[o[n.unref(e).icon]&&(o[n.unref(e).icon].icon||o[n.unref(e).icon].type)?(n.openBlock(),n.createElementBlock(n.Fragment,{key:0},[o[n.unref(e).icon].type==="custom"?(n.openBlock(),n.createBlock(n.resolveDynamicComponent(o[n.unref(e).icon].icon),n.normalizeProps(n.mergeProps({key:0},o[n.unref(e).icon].attrs)),null,16)):o[n.unref(e).icon].type==="el"?(n.openBlock(),n.createBlock(p,n.normalizeProps(n.mergeProps({key:1},o[n.unref(e).icon].attrs)),{default:n.withCtx(()=>[(n.openBlock(),n.createBlock(n.resolveDynamicComponent(o[n.unref(e).icon].icon)))]),_:2},1040)):o[n.unref(e).icon].type==="iconfont"?(n.openBlock(),n.createElementBlock("i",n.mergeProps({key:2,class:["icon iconfont","icon-"+o[n.unref(e).icon].icon]},o[n.unref(e).icon].attrs),null,16)):(n.openBlock(),n.createElementBlock("i",n.mergeProps({key:3,class:o[n.unref(e).icon].type},o[n.unref(e).icon].attrs),n.toDisplayString(o[n.unref(e).icon].icon),17))],64)):n.createCommentVNode("",!0),n.createTextVNode(" "+n.toDisplayString(o[n.unref(e).label]),1)],8,_))),128))])):(n.openBlock(!0),n.createElementBlock(n.Fragment,{key:1},n.renderList(l.groupList,(o,k)=>(n.openBlock(),n.createElementBlock("div",{class:"menu-group-list",key:k},[n.createElementVNode("p",E,n.toDisplayString(o[n.unref(e).name]),1),(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(o[n.unref(e).data],(t,S)=>(n.openBlock(),n.createElementBlock("div",{class:"item",onClick:D=>B(t[n.unref(e).value]),key:S},[t[n.unref(e).icon]&&(t[n.unref(e).icon].icon||t[n.unref(e).icon].type)?(n.openBlock(),n.createElementBlock(n.Fragment,{key:0},[t[n.unref(e).icon].type==="custom"?(n.openBlock(),n.createBlock(n.resolveDynamicComponent(t[n.unref(e).icon].icon),n.normalizeProps(n.mergeProps({key:0},t[n.unref(e).icon].attrs)),null,16)):t[n.unref(e).icon].type==="el"?(n.openBlock(),n.createBlock(p,n.normalizeProps(n.mergeProps({key:1},t[n.unref(e).icon].attrs)),{default:n.withCtx(()=>[(n.openBlock(),n.createBlock(n.resolveDynamicComponent(t[n.unref(e).icon].icon)))]),_:2},1040)):t[n.unref(e).icon].type==="iconfont"?(n.openBlock(),n.createElementBlock("i",n.mergeProps({key:2,class:["icon iconfont","icon-"+t[n.unref(e).icon].icon]},t[n.unref(e).icon].attrs),null,16)):(n.openBlock(),n.createElementBlock("i",n.mergeProps({key:3,class:t[n.unref(e).icon].type},t[n.unref(e).icon].attrs),n.toDisplayString(t[n.unref(e).icon].icon),17))],64)):n.createCommentVNode("",!0),n.createTextVNode(" "+n.toDisplayString(t[n.unref(e).label]),1)],8,w))),128))]))),128))],4)):n.createCommentVNode("",!0)],40,h)}}}],d={install(l){x.forEach(i=>{l.component("vueDiyRightmenuPlus",i)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(d),d});
