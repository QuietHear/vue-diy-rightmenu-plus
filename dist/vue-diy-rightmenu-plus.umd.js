(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.vueDiyRightmenuPlus=r(e.Vue))})(this,function(e){"use strict";const r="",h=["onContextmenu"],C={key:0,class:"menu-list"},g=["onClick"],_={class:"item-title"},E=["onClick"],w=[{__name:"index",props:{groupList:{type:Array,default:()=>[]},list:{type:Array,default:()=>[{label:"\u7F16\u8F91",value:"\u7F16\u8F91value",icon:"el/Apple"},{label:"\u5220\u9664",value:"\u5220\u9664value"}]},props:{type:Object,default:()=>({})},hideOnClick:{type:Boolean,default:!0}},emits:["menuClick","popShow","popClose"],setup(c,{emit:i}){const a=c,s=e.ref(!1),m=e.ref({left:"9999px",top:"9999px"}),t=e.ref({name:a.props.name||"name",data:a.props.data||"data",label:a.props.label||"label",value:a.props.value||"value",icon:a.props.icon||"icon"}),u=(l,B)=>{let p=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector;for(;l&&!p.call(l,B);)l=l.parentElement;return l},x=()=>{u(event.target,".menu-content")===null&&(m.value.left=event.clientX+"px",m.value.top=event.clientY+"px",s.value=!0,i("popShow"))},k=()=>{(a.hideOnClick||u(event.target,".menu-content")===null)&&(s.value=!1,i("popClose"))};e.watch(s,()=>{s.value?document.body.addEventListener("click",k):document.body.removeEventListener("click",k)}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",k)});const y=l=>{i("menuClick",l)};return(l,B)=>{const p=e.resolveComponent("el-icon");return e.openBlock(),e.createElementBlock("div",{class:"vue-diy-rightmenu-plus",onContextmenu:e.withModifiers(x,["prevent"])},[e.renderSlot(l.$slots,"default"),s.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"menu-content",style:e.normalizeStyle(m.value)},[c.list.length>0?(e.openBlock(),e.createElementBlock("div",C,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.list,(o,d)=>(e.openBlock(),e.createElementBlock("div",{class:"item",onClick:n=>y(o[t.value.value]),key:d},[o[t.value.icon]?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o[t.value.icon].split("/")[0]==="el"?(e.openBlock(),e.createBlock(p,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o[t.value.icon].split("/")[1])))]),_:2},1024)):o[t.value.icon].split("/")[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+o[t.value.icon].split("/")[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(o[t.value.icon].split("/")[0])},e.toDisplayString(o[t.value.icon].split("/")[1]),3))],64)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(o[t.value.label]),1)],8,g))),128))])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(c.groupList,(o,d)=>(e.openBlock(),e.createElementBlock("div",{class:"menu-group-list",key:d},[e.createElementVNode("p",_,e.toDisplayString(o[t.value.name]),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o[t.value.data],(n,S)=>(e.openBlock(),e.createElementBlock("div",{class:"item",onClick:D=>y(n[t.value.value]),key:S},[n[t.value.icon]?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[n[t.value.icon].split("/")[0]==="el"?(e.openBlock(),e.createBlock(p,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n[t.value.icon].split("/")[1])))]),_:2},1024)):n[t.value.icon].split("/")[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+n[t.value.icon].split("/")[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(n[t.value.icon].split("/")[0])},e.toDisplayString(n[t.value.icon].split("/")[1]),3))],64)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n[t.value.label]),1)],8,E))),128))]))),128))],4)):e.createCommentVNode("",!0)],40,h)}}}],f={install(c){w.forEach(i=>{c.component("vueDiyRightmenuPlus",i)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(f),f});
