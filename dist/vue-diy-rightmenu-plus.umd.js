(function(e,p){typeof exports=="object"&&typeof module<"u"?module.exports=p(require("vue")):typeof define=="function"&&define.amd?define(["vue"],p):(e=typeof globalThis<"u"?globalThis:e||self,e.vueDiyRightmenuPlus=p(e.Vue))})(this,function(e){"use strict";const p="",f=(o,a)=>{const i=o.__vccOpts||o;for(const[n,d]of a)i[n]=d;return i},B={name:"vueDiyRightmenuPlus",emits:["menuClick","popShow","popClose"],props:{groupList:{type:Array,default:()=>[]},list:{type:Array,default:()=>[{label:"\u7F16\u8F91",value:"\u7F16\u8F91value",icon:"el/Apple"},{label:"\u5220\u9664",value:"\u5220\u9664value"}]},props:{type:Object,default:()=>({})},hideOnClick:{type:Boolean,default:!0}},setup(o,{attrs:a,slots:i,emit:n,expose:d}){const r=e.ref(!1),s=e.ref({left:"9999px",top:"9999px"}),t=e.ref({name:o.props.name||"name",data:o.props.data||"data",label:o.props.label||"label",value:o.props.value||"value",icon:o.props.icon||"icon"}),m=(c,x)=>{let b=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector;for(;c&&!b.call(c,x);)c=c.parentElement;return c},l=()=>{m(event.target,".menu-content")===null&&(s.value.left=event.clientX+"px",s.value.top=event.clientY+"px",r.value=!0,n("popShow"))},k=()=>{(o.hideOnClick||m(event.target,".menu-content")===null)&&(r.value=!1,n("popClose"))};return e.watch(r,()=>{r.value?document.body.addEventListener("click",k):document.body.removeEventListener("click",k)}),e.onBeforeUnmount(()=>{document.body.removeEventListener("click",k)}),{pop:r,popStyle:s,nameSet:t,showMenu:l,menuClick:c=>{n("menuClick",c)}}}},S={key:0,class:"menu-list"},h=["onClick"],g={class:"item-title"},C=["onClick"];function _(o,a,i,n,d,r){const s=e.resolveComponent("el-icon");return e.openBlock(),e.createElementBlock("div",{class:"vue-diy-rightmenu-plus",onContextmenu:a[0]||(a[0]=e.withModifiers((...t)=>n.showMenu&&n.showMenu(...t),["prevent"]))},[e.renderSlot(o.$slots,"default"),n.pop?(e.openBlock(),e.createElementBlock("div",{key:0,class:"menu-content",style:e.normalizeStyle(n.popStyle)},[i.list.length>0?(e.openBlock(),e.createElementBlock("div",S,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.list,(t,m)=>(e.openBlock(),e.createElementBlock("div",{class:"item",onClick:l=>n.menuClick(t[n.nameSet.value]),key:m},[t[n.nameSet.icon]?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[t[n.nameSet.icon].split("/")[0]==="el"?(e.openBlock(),e.createBlock(s,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t[n.nameSet.icon].split("/")[1])))]),_:2},1024)):t[n.nameSet.icon].split("/")[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+t[n.nameSet.icon].split("/")[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(t[n.nameSet.icon].split("/")[0])},e.toDisplayString(t[n.nameSet.icon].split("/")[1]),3))],64)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(t[n.nameSet.label]),1)],8,h))),128))])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(i.groupList,(t,m)=>(e.openBlock(),e.createElementBlock("div",{class:"menu-group-list",key:m},[e.createElementVNode("p",g,e.toDisplayString(t[n.nameSet.name]),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t[n.nameSet.data],(l,k)=>(e.openBlock(),e.createElementBlock("div",{class:"item",onClick:w=>n.menuClick(l[n.nameSet.value]),key:k},[l[n.nameSet.icon]?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l[n.nameSet.icon].split("/")[0]==="el"?(e.openBlock(),e.createBlock(s,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l[n.nameSet.icon].split("/")[1])))]),_:2},1024)):l[n.nameSet.icon].split("/")[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+l[n.nameSet.icon].split("/")[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(l[n.nameSet.icon].split("/")[0])},e.toDisplayString(l[n.nameSet.icon].split("/")[1]),3))],64)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(l[n.nameSet.label]),1)],8,C))),128))]))),128))],4)):e.createCommentVNode("",!0)],32)}const E=[f(B,[["render",_]])],y={install(o){E.forEach(a=>{o.component(a.name,a)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(y),y});
